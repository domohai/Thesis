\documentclass[a4paper,13pt]{report}
\usepackage{amsmath}

\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{lipsum}
\usepackage[utf8]{inputenc}
\usepackage{vntex}
\usepackage[vietnamese]{babel}
\usepackage[utf8]{inputenc}
\usepackage[table]{xcolor}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{enumitem}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage[hang,flushmargin]{footmisc} % For hanging footnotes
\usepackage{setspace} % For fine spacing adjustments
\usepackage[font=normalsize]{caption}
\usepackage{booktabs}
\usepackage[unicode]{hyperref}
\usepackage[left=3cm,right=2cm,top=2.5cm,bottom=3cm]{geometry}
\usepackage{titlesec}
\usepackage{mdframed}
\usepackage{lipsum} % For example text (if needed)
\usepackage{colortbl}
\usepackage{booktabs}
\usepackage{array}
\usepackage{xcolor}
\usepackage{scrextend}
\usepackage{enumerate}
\usepackage{tikz}
\usepackage{float}
\usepackage{afterpage}
\usepackage{multirow}
\usepackage{sectsty}
\usepackage{tocloft,calc}
\usepackage{listings}
\usepackage{makecell}
\usepackage{listings}
\usepackage{tocloft}
\usepackage{tcolorbox}
\usepackage{mathptmx}
\usepackage{longtable} % Include this in the preamble
\usepackage{listings}
\usepackage{xcolor}
\usepackage{inconsolata}  % Font monospace đẹp cho code
\usepackage{longtable}

% Định nghĩa màu
\definecolor{orange}{RGB}{255,128,0}
\definecolor{gray}{RGB}{128,128,128}
\definecolor{purple}{RGB}{128,0,128}

\usetikzlibrary{calc}
\usepackage{algorithm}
\usepackage{perpage} %the perpage package
\MakePerPage{footnote} %the perpage package command
\PassOptionsToPackage{table}{xcolor}

\def\changemargin#1#2{\list{}{\rightmargin#2\leftmargin#1}\item[]}
\let\endchangemargin=\endlist

\changefontsizes{13pt}
% \bibliographystyle{unsrt}

\lstset{
  basicstyle=\ttfamily\scriptsize, % Match font size and style in the image
  breaklines=true, % Allow line breaks
  numbers=left, % Add line numbers to the left
  % numberstyle=\tiny, % Smaller font for line numbers
  frame=lines, % Add a frame around the code
  xleftmargin=20pt, % Adjust left margin for alignment
  tabsize=4, % Tab size for indentation
  showstringspaces=false, % Hide visible spaces in strings
  language=Prolog % Set the language to Prolog
}

\makeatletter
\def\l@figure{\@dottedtocline{1}{1em}{2.2em}}
\def\l@table{\@dottedtocline{1}{1em}{2.2em}}
\renewcommand*{\ALG@name}{Algorithm}
\makeatother

\sectionfont{\fontsize{15}{15}\selectfont}
\subsectionfont{\fontsize{13}{15}\selectfont}
\titleformat{\subsubsection}[runin]
{\normalfont\normalsize\bfseries}{\thesubsubsection.}{1em}{}
\titlespacing*{\subsubsection}{0pt}{*0.5}{*0.5}

% Include subsubsections in numbering and TOC
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}

\titleformat{\chapter}[display]
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{0pt}{\LARGE}
\titlespacing*{\chapter}{0cm}{-\topskip}{20pt}[0pt]

\renewcommand{\baselinestretch}{1.3}
%\renewcommand{\cftsecpresnum}{Chương\space}
\renewcommand{\cftchappresnum}{Chapter }
\AtBeginDocument{\addtolength\cftchapnumwidth{\widthof{\bfseries Chapter}}}
\setlength{\parskip}{0.4em}
\setlength{\parindent}{0pt}


% Tùy chỉnh định dạng mục lục
\renewcommand{\cftchappresnum}{Chapter }
\renewcommand{\cftchapaftersnum}{: }

\setlength{\cftchapnumwidth}{2.5em}

%
\newcommand{\argmax}{\arg\!\max}
\usepackage[
  backend=biber,
  sorting=ynt
]{biblatex}
\addbibresource{references.bib}


\usepackage{graphicx}
\usepackage{array}
\graphicspath{ {figures/} }

\renewcommand{\listfigurename}{List of plots}
\renewcommand{\listtablename}{Tables}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\input{cover}\newpage\cleardoublepage

% Acknowledgement
\input{chapters/acknowledgement}\newpage\cleardoublepage
% Assurance
\input{chapters/assurance}\newpage\cleardoublepage
% Abstract Vietnamese
% \input{chapters/abtract_vi}\newpage\cleardoublepage
% Abstract English
\input{chapters/abtract_en}\newpage\cleardoublepage

\addcontentsline{toc}{chapter}{MỤC LỤC}
\renewcommand{\contentsname}{\centering \fontsize{22}{0}\selectfont \bfseries MỤC LỤC}
\tableofcontents\newpage\cleardoublepage
%

\newpage
\addcontentsline{toc}{chapter}{DANH MỤC HÌNH VẼ}
\renewcommand{\listfigurename}{\centering \fontsize{22}{0}\selectfont \bfseries DANH MỤC HÌNH VẼ}
\listoffigures\cleardoublepage

\newpage
\addcontentsline{toc}{chapter}{DANH MỤC BẢNG}
\renewcommand{\listtablename}{\centering \fontsize{22}{0}\selectfont \bfseries DANH MỤC BẢNG}
\listoftables

\newpage
\input{chapters/glossary}\newpage\cleardoublepage
%\listoftables

%
\input{chapters/introduction}\newpage\cleardoublepage
\input{chapters/c1/c1_introduction}\newpage\cleardoublepage
\input{chapters/c2/c2_chapter}\newpage\cleardoublepage
\input{chapters/c3/c3_chapter}\newpage\cleardoublepage
% \input{chapters/c4/c4_chapter}\newpage\cleardoublepage
\input{chapters/conclusion}\newpage\cleardoublepage

%\nocite{*}
% \phantomsection 
% \addcontentsline{toc}{chapter}{REFERENCES}
% \bibliography{references}\newpage\cleardoublepage
% \bibliographystyle{plain}

\printbibliography[title={DANH MỤC TÀI LIỆU THAM KHẢO}]
\addcontentsline{toc}{chapter}{DANH MỤC TÀI LIỆU THAM KHẢO}

\newpage
\input{chapters/appendix}\newpage\cleardoublepage
\end{document}
